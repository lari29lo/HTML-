<!DOCTYPE HTML>

<html>

<!--No head(cabeçalho), deve ser incluido o código em JavaScript-->

<head> 
    <title>Calculadora de Juros</title>

    <script>

        // Factory: retorna um objeto (coleção de atributos)

        function RecuperarDados(){
            var C, i, n, tipo;
            return({
                    C : parseFloat(document.getElementById("_Capital").value),
                    i : parseFloat(document.getElementById("_Taxa").value),
                    n : parseFloat(document.getElementById("_Prazo").value),
                    tipo : document.querySelector ("input [name=tipo]:checked").value
            });
        }

        function CalcularMontante() {

            alert("teste");
            var Dados = RecuperarDados();
            var M;
            var J;

            alert(Dados.C);
            alert(Dados.i);    //Esses "alert" são teste para descobrir onde está o erro
            alert(Dados.n);
            alert(Dados.tipo);

            if (Dados.tipo == "Composto"){
                M = Dados.C * (1 + Dados.i) ** Dados.n;
                J = M - Dados.C;
            } else {
                M = Dados.C * (1 + Dados.i * Dados.n);
                J = M - Dados.C;
            }
            var str = "O Montante da aplicação é de <b> <font color = green> R$ " + M.toFixed(2);
            str = str + "</font> </b> e os juros são de <b> <font color = red> R$: </font color" + J.toFixed(2); // essa tag é para deixar o num. só com duas casas decimais
            str = str + "</font></b>";
            str= "<center>" + str + "</center>"
                
            document.getElementById("Resposta").innerHTML = str;
        }

    </script>
</head>
<!--No body(corpo), deve ser incluido o código HTML e nome das variáveis para javascript reconhecer-->

    <body>
<h1>Calculadora</h1>
<p>No Sistema de Juros Simples, o calculo dos juros , em um período , levam em consideração o valor inicial aplicado. 
    Nos Juros Compostos, o calculo dos juros consideram o valor acumulado no período anterior.</p>

<table border = "0" align = "center" width = "400px"> 

<!--1° linha-->
<tr>
<td>Capital</td>
<td><input type = "text" id = "_Capital"></td>
<td></td>

</tr>

<!--2° linha-->
<tr>
    <td>Taxa</td>
    <td><input type = "text" id = "_Taxa"></td>
    <td></td>
</tr>

<!--3° linha-->
<tr>
    <td>Prazo</td>
    <td><input type = "text" id = "_Prazo"></td>
    <td></td>
</tr>

<!--4° linha-->
<tr>
    <td>Tipo</td>
    <td>
        <input type = "radio" id = "_Tipo" name ="tipo" value = Composto>Composto  <!--a tag radio é para colocar um circulo para marcar-->
        <input type = "radio" id = "_Tipo" name ="tipo" value = Simples> Simples </td>
    <td>
        <button type = "button" onclick = "CalcularMontante()">Calcular</button></td>
</tr>

<!--5° linha: nesta linha será mostrado o resultado dos cálculos-->
<tr>
    <td colspan = "3" ><p id = "Resposta"> O Montante é de...</p></td>
</tr>


</table>

</body>
</html>